Settings
========

The application can be configured via settings with ``GROUPS_MANAGER`` dictionary.
Valid keys and values are described below.

Auth model synchronization
--------------------------

- ``"AUTH_MODELS_SYNC"``: enables Group, Member and GroupMember synchronization with django's Group and User (default: ``False``);
- ``"GROUP_NAME_PREFIX"``: prefix used for autogenerated django Group's name (default: ``"DGN_"``)
- ``"GROUP_NAME_SUFFIX"``: suffix used for autogenerated django Group's name. The special value ``"_$$random"`` can be used for generate a pseudo-unique suffix of length 8 (the first block of an UUID4) (default: ``"_$$random"``)
- ``"USER_USERNAME_PREFIX"``: prefix used for autogenerated django User's username (default: ``"DGN_"``)
- ``"USER_USERNAME_SUFFIX"``: suffix used for autogenerated django User's username. The special value ``"_$$random"`` can be used (default: ``"_$$random"``)

Permissions
-----------

- ``"PERMISSIONS"`` dictionary: this setting controls the ``assign_object`` method of a ``GroupMember`` instance.
Each key controls a specific group type. Values are strings (or, in case of ``"owner"``, also a dictionary) with a combination of ``"v"`` (view), ``"c"`` (change), ``"d"`` (delete) characters. Obviously, a ``"view_modelname"`` permission must be added to the model permissions. 

Valid keys are:

	- ``"owner"``: a string or a dictionary (with keys as roles' codename attribute). This object-permissions are assigned directly to the user (default: ``"vcd"``)
	- ``"group"``: a string. This object-permissions are assigned to the related group (default: ``"vc"``)
	- ``"groups_upstream"``: a string. This object-permissions are assigned to the ancestors groups (default: ``"v"``)
	- ``"groups_downstream"``: a string. This object-permissions are assigned to the descendants groups (default: ``""``)
	- ``"groups_siblings"``: a string. This object-permissions are assigned to the siblings groups (default: ``"v"``)

Defaults
--------

Default values are::

    GROUPS_MANAGER = {
        # User and Groups sync settings
        'AUTH_MODELS_SYNC': False,
        'GROUP_NAME_PREFIX': 'DGM_',
        'GROUP_NAME_SUFFIX': '_$$random',
        'USER_USERNAME_PREFIX': 'DGM_',
        'USER_USERNAME_SUFFIX': '_$$random',
        # Permissions
        'PERMISSIONS': {
            'owner': 'vcd',
            'group': 'vc',
            'groups_upstream': 'v',
            'groups_downstream': '',
            'groups_siblings': 'v',
        },
    }
